charname_request_cnt=0;last_request_received=0;function appendOrReplace(a,b){if(a.childNodes.length==0){a.appendChild(b)}else{a.replaceChild(b,a.firstChild)}}function checkCharname(){var b=document.getElementById("charname");var a=b.value;var f=document.getElementById("server").value;var c=document.getElementById("charname_result");var d=document.getElementById("submit");if(a.length<4){if(cur_lang=="de"){appendOrReplace(c,document.createTextNode("Name ist zu kurz"))}else{appendOrReplace(c,document.createTextNode("Name is too short"))}d.className="disabled";d.disabled=true;return true}else{if(a.length>50){if(cur_lang=="de"){appendOrReplace(c,document.createTextNode("Name ist zu lang"))}else{appendOrReplace(c,document.createTextNode("Name is too long"))}d.className="disabled";d.disabled=true;return true}else{if(a.search("[0-9*+.,;:@/?!]")!=-1||a.search("^[A-Za-z 'äöüÄÖÜßáàÁÀéèÉÈíìÍÌóòÒÓúùÚÙ]+$")==-1){if(cur_lang=="de"){appendOrReplace(c,document.createTextNode("Name enthält ungültige Zeichen"))}else{appendOrReplace(c,document.createTextNode("Name contains invalid characters"))}d.className="disabled";d.disabled=true;return true}else{if(a.search("^[A-Z]")==-1){if(cur_lang=="de"){appendOrReplace(c,document.createTextNode("Name muss mit Großbuchstaben beginnen"))}else{appendOrReplace(c,document.createTextNode("Name has to start with a capital letter"))}d.className="disabled";d.disabled=true;return true}else{if(a.search(" [a-zäöüßáàéèíìóòúù]+$")!=-1){if(cur_lang=="de"){appendOrReplace(c,document.createTextNode("Der Nachname muss mit einem Großbuchstaben beginnen"))}else{appendOrReplace(c,document.createTextNode("Last name has to start with a capital letter"))}d.className="disabled";d.disabled=true;return true}else{if(a.search(" [a-zäöüßáàéèíìóòúù]{4}$")!=-1){if(cur_lang=="de"){appendOrReplace(c,document.createTextNode("Der Nachname muss mindestens 5 Zeichen lang sein"))}else{appendOrReplace(c,document.createTextNode("The last name has to contain at least 5 characters"))}d.className="disabled";d.disabled=true;return true}else{if((a.toLowerCase()).search("[aeiouäöüáàéèíìóòúù]")==-1){if(cur_lang=="de"){appendOrReplace(c,document.createTextNode("Der Name muss Vokale enthalten"))}else{appendOrReplace(c,document.createTextNode("The name has to contain vowels"))}d.className="disabled";d.disabled=true;return true}else{if(a.search("^.. ")!=-1){if(cur_lang=="de"){appendOrReplace(c,document.createTextNode("Der Vorname muss mindestens 3 Zeichen lang sein"))}else{appendOrReplace(c,document.createTextNode("The first name has to contain at least 3 characters"))}d.className="disabled";d.disabled=true;return true}else{if(a.search(" .$")!=-1){if(cur_lang=="de"){appendOrReplace(c,document.createTextNode("Der letzte Teil des Namens muss mindestens 2 Zeichen lang sein"))}else{appendOrReplace(c,document.createTextNode("The last part of the name has to contain at least 2 characters"))}d.className="disabled";d.disabled=true;return true}else{if(a.search("[a-zäöüßéèíìóòúùA-ZÄÖÜÁÀÉÈÍÌÒÓÚÙ][A-ZÄÖÜÁÀÉÈÍÌÒÓÚÙ]")!=-1){if(cur_lang=="de"){appendOrReplace(c,document.createTextNode("Es darf keine Großbuchstaben direkt nach einem Kleinbuchstaben geben"))}else{appendOrReplace(c,document.createTextNode("Capital letters must not be written directly after non-capital letters"))}d.className="disabled";d.disabled=true;return true}else{if(a.search("  ")!=-1){if(cur_lang=="de"){appendOrReplace(c,document.createTextNode("Der Name enthält zwei Leerzeichen in Folge"))}else{appendOrReplace(c,document.createTextNode("The name contains two whitespaces in a row"))}d.className="disabled";d.disabled=true;return true}else{if(a.search("^ ")!=-1){if(cur_lang=="de"){appendOrReplace(c,document.createTextNode("Der Name darf nicht mit einem Leerzeichen beginnen"))}else{appendOrReplace(c,document.createTextNode("The name must not beginn with a whitespace"))}d.className="disabled";d.disabled=true;return true}else{if(a.search(" $")!=-1){if(cur_lang=="de"){appendOrReplace(c,document.createTextNode("Der Name darf nicht mit einem Leerzeichen enden"))}else{appendOrReplace(c,document.createTextNode("The name must not end with a whitespace"))}d.className="disabled";d.disabled=true;return true}}}}}}}}}}}}}b.className="ajax_loading";charname_request_cnt++;var e=url+"/community/account/func.newchar_1.php?charname="+encodeURIComponent(a)+"&server="+f+"&lang="+cur_lang+"&cnt="+charname_request_cnt;new Ajax.Request(e,{method:"get",onSuccess:function(j){var g=document.getElementById("charname_result");var h=document.getElementById("submit");var i=j.responseText.split("|");i[0]=parseInt(i[0]);if(i[0]<last_request_received){return false}last_request_received=i[0];if(i[1]=="OK"){if(cur_lang=="de"){appendOrReplace(g,document.createTextNode("Name ist in Ordnung"))}else{appendOrReplace(g,document.createTextNode("Name is fine"))}h.className="";h.disabled=false}else{appendOrReplace(g,document.createTextNode(i[1]));h.className="disabled";h.disabled=true}document.getElementById("charname").className=""}})};